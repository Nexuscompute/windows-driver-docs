<svg xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink" width="14in" height="816" class="st11" color-interpolation-filters="sRGB" viewBox="0 0 1008 612" xml:space="preserve" style="background-color:#fff"><title>HCI_VS_MSFT_LE_Monitor_Advertisement_State_Diagram</title><style type="text/css">.st1{fill:#fff;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:.75}.st2{fill:#000;font-family:Calibri;font-size:.75em}.st3{font-size:1em}.st4,.st5{stroke:#000}.st4{marker-start:url(#mrkr4-25);stroke-linecap:round;stroke-linejoin:round;stroke-width:.2376}.st5{fill:#000;fill-opacity:1;stroke-opacity:1;stroke-width:.056603773584906}.st6{fill:#fff;stroke:none;stroke-linecap:round;stroke-linejoin:round;stroke-width:.75}.st7{fill:#000;font-family:Calibri;font-size:.75em;font-weight:700}.st8{font-size:1em;font-weight:400}.st9{marker-end:url(#mrkr4-80);stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:.2376}.st10{fill:#000;fill-opacity:1;stroke:#000;stroke-opacity:1;stroke-width:.11660777385159}.st11{fill:none;fill-rule:evenodd;font-size:12px;overflow:visible;stroke-linecap:square;stroke-miterlimit:3}</style><defs id="Markers"><g id="lend4"><path d="M 2 1 L 0 0 L 2 -1 L 2 1" style="stroke:none"/></g><marker id="mrkr4-25" class="st5" markerUnits="strokeWidth" orient="auto" overflow="visible" refX="33.818"><use transform="scale(17.666666666667)" xlink:href="#lend4"/></marker><marker id="mrkr4-80" class="st10" markerUnits="strokeWidth" orient="auto" overflow="visible" refX="-15.636"><use transform="scale(-8.5757575757576,-8.5757575757576)" xlink:href="#lend4"/></marker></defs><g><title>HCI_VS_MSFT_LE_Monitor_Advertisement_State_Diagram</title><g id="group1-1" transform="translate(126,-373.909)"><title>Start state</title><desc>Initial Radio state, not monitoring</desc><g id="shape2-2"><title>Sheet.2</title><path d="M0 567 A45 45 0 0 1 90 567 A45 45 0 1 1 0 567 Z" class="st1"/></g><g id="shape3-4" transform="translate(12.9234,-12.9234)"><title>Sheet.3</title><path d="M0 579.92 A32.0766 32.0766 0 0 1 64.15 579.92 A32.0766 32.0766 0 1 1 0 579.92 Z" class="st1"/></g><g id="shape1-6"><text x="34.74" y="558.9" class="st2">Initial <tspan x="23.32" class="st3" dy="1.2em">Radio state,</tspan><tspan x="17.41" class="st3" dy="1.2em">not monitoring</tspan></text></g></g><g id="shape4-10" transform="translate(135,-198.409)"><title>State</title><desc>Monitoring, device not in range</desc><path d="M0 578.5 A33.5 33.5 0 0 1 67 578.5 A33.5 33.5 0 1 1 -0 578.5 Z" class="st1"/><text x="11.8" y="570.4" class="st2">Monitoring,<tspan x="10.01" class="st3" dy="1.2em">device not in </tspan><tspan x="23.05" class="st3" dy="1.2em">range</tspan></text></g><g id="shape5-15" transform="translate(563,-342.909)"><title>State.5</title><desc>Monitoring, in range event sent to Host</desc><path d="M0 578.5 A33.5 33.5 0 0 1 67 578.5 A33.5 33.5 0 1 1 -0 578.5 Z" class="st1"/><text x="7.38" y="570.4" class="st2">Monitoring, in <tspan x="2.77" class="st3" dy="1.2em">range event sent </tspan><tspan x="20.16" class="st3" dy="1.2em">to Host</tspan></text></g><g id="shape7-20" transform="translate(800.648,374.008) rotate(107.194)"><title>Center to center 1.7</title><path d="M2.65 604.41 L2.77 604.07 A83.7309 83.7309 0 0 1 160.68 612" class="st4"/></g><g id="shape9-26" transform="translate(-421.31,509.893) rotate(-105.476)"><title>Center to center 1</title><path d="M3.34 604.69 L3.48 604.36 A85.7234 85.7234 0 0 1 159.27 612" class="st4"/></g><g id="shape10-31" transform="translate(582.089,831.188) rotate(137.484)"><title>Loop on center</title><path d="M34.09 588.47 L34.35 588.23 A29.0724 29.0724 0 1 1 28.25 630" class="st4"/></g><g id="shape12-36" transform="translate(36,-328.909)"><title>Sheet.12</title><desc>Event: VSC received Action: Start monitoring</desc><rect width="121" height="27" x="0" y="585" class="st6"/><text x="1" y="595.8" class="st7">Event:<tspan class="st8" dx="1.376em">VSC received</tspan><tspan x="1" class="st3" dy="1.2em">Action:</tspan><tspan class="st8" dx="1.033em">Start monitoring</tspan></text></g><g id="shape15-42" transform="translate(171,-330.409)"><title>Sheet.15</title><desc>Event: VSC received to stop monitoring Action: Stop monitoring</desc><rect width="171" height="27" x="0" y="585" class="st6"/><text x="1" y="595.8" class="st7">Event:<tspan class="st8" dx="1.376em">VSC received to stop monitoring</tspan><tspan x="1" class="st3" dy="1.2em">Action:</tspan><tspan class="st8"> </tspan><tspan class="st8" dx=".807em">Stop monitoring</tspan></text></g><g id="shape18-49" transform="translate(34.5,-135.409)"><title>Sheet.18</title><desc>Event: RSSI received &lt; RSSI_threshold_high Action: None</desc><rect width="181.5" height="27" x="0" y="585" class="st6"/><text x="1" y="595.8" class="st7">Event:<tspan class="st8" dx="1.376em">RSSI received &lt; RSSI_threshold_high</tspan><tspan x="1" class="st3" dy="1.2em">Action:</tspan><tspan class="st8"> </tspan><tspan class="st8" dx=".807em">None</tspan></text></g><g id="shape19-56" transform="translate(230.472,-418.738) rotate(1.35497)"><title>Center to center 1.19</title><path d="M6.89 607.86 L7.19 607.67 A362.327 362.327 0 0 1 380.61 612" class="st4"/></g><g id="shape20-61" transform="translate(331.5,-445.909)"><title>Sheet.20</title><desc>Event: VSC received to stop monitoring Action: Stop Periodic ...</desc><rect width="181.5" height="54" x="0" y="558" class="st6"/><text x="1" y="571.5" class="st7">Event: <tspan class="st8" dx="1.15em">VSC received to stop monitoring</tspan><tspan x="1" class="st3" dy="1.2em">Action:</tspan><tspan class="st8"> </tspan><tspan class="st8" dx=".807em">Stop Periodic Timer</tspan><tspan x="37" class="st8" dy="1.2em">Stop LowThresholdTimer</tspan><tspan x="37" class="st8" dy="1.2em">Stop monitoring</tspan></text></g><g id="shape22-70" transform="translate(790.427,803.764) rotate(158.185)"><title>Center to center 1.22</title><path d="M7.19 608.41 L7.51 608.24 A426.235 426.235 0 0 1 388.85 612" class="st4"/></g><g id="shape31-75" transform="translate(762.261,858.215) rotate(164.285)"><title>Center to center 1.31</title><path d="M0 612 A206.195 206.195 0 0 1 409.32 607.95 L409.37 608.31" class="st9"/></g><g id="shape32-81" transform="translate(340,-48.6811)"><title>Sheet.32</title><desc>Event: LowThresholdTimer expires Action: Generate HCI_VS_MSFT...</desc><rect width="218" height="50.319" x="0" y="561.681" class="st6"/><text x="1" y="573.34" class="st7">Event:<tspan class="st8" dx="1.376em">LowThresholdTimer expires</tspan><tspan x="1" class="st3" dy="1.2em">Action:</tspan><tspan class="st8"> </tspan><tspan class="st8" dx=".807em">Generate HCI_VS_MSFT_Monitor_Device_Event</tspan><tspan x="37" class="st8" dy="1.2em">Stop Periodic Timer</tspan><tspan x="37" class="st8" dy="1.2em">Notified = 0</tspan></text></g><g id="shape35-90" transform="translate(1208.5,202.091) rotate(90)"><title>Center to center 1.35</title><path d="M-7.21 608.45 L-7.53 608.29 A84.4637 84.4637 0 1 1 67 612" class="st4"/></g><g id="shape36-95" transform="translate(657,-256.909)"><title>Sheet.36</title><desc>Event: Advertisement packet received &amp;&amp; RSSI &gt; RSSI_threshold...</desc><rect width="304" height="171" x="0" y="441" class="st6"/><text x="1" y="448.2" class="st7">Event:<tspan class="st8" dx="1.376em">Advertisement packet received &amp;&amp; RSSI &gt; RSSI_threshold_low</tspan><tspan x="1" class="st3" dy="1.2em">Action:</tspan><tspan class="st8"> </tspan><tspan class="st8" dx=".807em">Restart LowThresholdTimer</tspan><tspan x="1" class="st3" dy="2.4em">Event: </tspan><tspan class="st8" dx="1.15em">Advertisement packet received &amp;&amp; RSSI &lt;= RSSI_threshold_low</tspan><tspan x="1" class="st3" dy="1.2em">Action:</tspan><tspan class="st8"> </tspan><tspan class="st8" dx=".807em">None</tspan><tspan x="1" class="st3" dy="2.4em">Event: </tspan><tspan class="st8" dx="1.15em">Periodic Timer expires</tspan><tspan x="1" class="st3" dy="1.2em">Action:</tspan><tspan class="st8"> </tspan><tspan class="st8" dx=".807em">If (Advertisement_Filter_Enable == 1 &amp;&amp;</tspan><tspan x="37" class="st8" dy="1.2em"> </tspan><tspan class="st8">Advertisement matches Advertisement_report_filtering_options)</tspan><tspan x="73" class="st8" dy="1.2em">Propagate received advertisement to the Host with </tspan>average <tspan x="73" class="st8" dy="1.2em"> </tspan><tspan class="st8">RSSI received during this sampling period</tspan><tspan x="1" class="st3" dy="2.4em">Event: </tspan><tspan class="st8" dx="1.15em">Advertisement packet received &amp;&amp; RSSI_sampling_period == 0x00</tspan><tspan x="1" class="st3" dy="1.2em">Action:</tspan><tspan class="st8"> </tspan><tspan class="st8" dx=".807em">If (Advertisement_Filter_Enable == 1 &amp;&amp;</tspan><tspan x="37" class="st8" dy="1.2em"> </tspan><tspan class="st8">Advertisement matches Advertisement_report_filtering_options)</tspan><tspan x="73" class="st8" dy="1.2em">Propagate received advertisement to the Host</tspan></text></g><g id="shape23-125" transform="translate(263,-201.5)"><title>Sheet.23</title><desc>Event: RSSI received &gt;= RSSI_threshold_high &amp;&amp; (Notified == 0...</desc><rect width="304" height="114.409" x="0" y="497.591" class="st6"/><text x="1" y="508.9" class="st7">Event:<tspan class="st8" dx="1.376em">RSSI received &gt;= RSSI_threshold_high &amp;&amp; (Notified == 0) &amp;&amp;</tspan><tspan x="37" class="st8" dy="1.2em"> </tspan><tspan class="st8">Advertisement matches condition and Monitor_options</tspan><tspan x="1" class="st3" dy="1.2em">Action:</tspan><tspan class="st8"> </tspan><tspan class="st8" dx=".807em">Generate HCI_VS_MSFT_Monitor_Device_Event</tspan><tspan x="37" class="st8" dy="1.2em">Notified = 1</tspan><tspan x="37" class="st8" dy="1.2em">Start LowThresholdTimer</tspan><tspan x="37" class="st8" dy="1.2em">If RSSI_sampling_period != (0x00 || 0xFF)</tspan><tspan x="73" class="st8" dy="1.2em">Start Periodic Timer</tspan><tspan x="37" class="st8" dy="1.2em">If (Advertisement_Filter_Enable == 1 &amp;&amp;</tspan><tspan x="37" class="st8" dy="1.2em"> </tspan><tspan class="st8">Advertisement matches Advertisement_report_filtering_options)</tspan><tspan x="73" class="st8" dy="1.2em">Propagate received advertisement to the Host</tspan></text></g></g></svg>